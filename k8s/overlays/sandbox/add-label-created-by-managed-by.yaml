---
apiVersion: builtin
kind: LabelTransformer
metadata:
  name: add-label-created-by-managed-by
labels:
  app.kubernetes.io/created-by: kubectl
  app.kubernetes.io/managed-by: kustomize
fieldSpecs:
  - path: metadata/labels
    create: true
  # Deep labels would not get generated by `labels` or
  # `buildMetadata: [managedByLabel]` in kustomization.yaml.
  - path: spec/template/metadata/labels
    create: false
